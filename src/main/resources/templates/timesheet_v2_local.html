<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- 引入 Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css"
          integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
    <!-- 引入 Bootstrap-table CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.css">
    <!-- Open iconic -->
    <link rel="stylesheet" href="../static/open-iconic-master/font/css/open-iconic-bootstrap.min.css">

    <title>Timesheet</title>
</head>
<body>
<div class="container" style="margin-top: 100px">

    <table id="table" data-classes="table table-hover table-no-bordered" data-striped=true>
        <thead class="thead-dark">
            <tr>
                <th data-field="date">Date</th>
                <th data-field="activity">Activity</th>
                <th data-field="type">Type</th>
                <th data-field="resource">Resource</th>
                <th data-field="days">Days</th>
                <th data-field="description">Description</th>
                <th data-field="action" data-align="center" data-formatter="operateFormatter">Action</th>
            </tr>
        </thead>
    </table>

</div>


<!-- jQuery -->
<!--<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>-->
<script src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>

<!-- Bootstrap js -->
<!--<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js"
        integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em"
        crossorigin="anonymous"></script>
<!-- Bootstrap-table js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/locale/bootstrap-table-zh-CN.min.js"></script>


<script>
    var $table = $("#table").bootstrapTable({
        pagination: true,
        sidePagination: "server",
        pageNumber: 1,
        pageSize: 5,
        data: [
            {
                "id": 1,
                "date": 1532016000000,
                "activity": "DSMID-103",
                "type": "Support",
                "resource": "${fullName}",
                "days": 0.1,
                "description": "全局 CSS 样式"
            },
            {
                "id": 2,
                "date": 1532016000000,
                "activity": "DSMID-103",
                "type": "Support",
                "resource": "${fullName}",
                "days": 0.1,
                "description": "全局 CSS 样式"
            },
            {
                "id": 3,
                "date": 1532016000000,
                "activity": "DSMID-103",
                "type": "Support",
                "resource": "${fullName}",
                "days": 0.1,
                "description": "全局 CSS 样式"
            },
            {
                "id": 4,
                "date": 1532016000000,
                "activity": "DSMID-104",
                "type": "Support",
                "resource": "${fullName}",
                "days": 0.3,
                "description": "Thymeleaf + Spring"
            },
            {
                "id": 5,
                "date": 1532016000000,
                "activity": "DSMID-103",
                "type": "Support",
                "resource": "${fullName}",
                "days": 0.1,
                "description": "全局 CSS 样式"
            },
            {
                "id": 6,
                "date": 1532016000000,
                "activity": "DSMID-100",
                "type": "Support",
                "resource": "${fullName}",
                "days": 0.6,
                "description": "Thymeleaf + Spring"
            },
            {
                "id": 7,
                "date": 1532016000000,
                "activity": "DSMID-104",
                "type": "Support",
                "resource": "Rookie HAN",
                "days": 0.6,
                "description": "Thymeleaf + Spring"
            }
        ]
    });

    $(function () {

    });

    function operateFormatter() {
        return [
                '<a href="https://www.baidu.com"><span class="oi oi-pencil" title="update"></span></a>',
                '<a href="javascript:deleteRow" title="Remove item"><span class="oi oi-x" title="remove"></span></a>'
            ].join('&nbsp;&nbsp;');
    }

    function deleteRow() {
        if (confirm("Are you sure to delete this item?")) {
            $.ajax({
                url: "http://localhost:8000/timesheet/rest/ticket/delete?ticketId=",
                type: "DELETE",
                dataType: "json",
                success: function() {
                    $table.bootstrapTable("refresh");
                    alert('Delete item successful!');
                },
                error: function () {
                    alert('Delete item error!');
                }
            });
        }
    }


</script>
</body>
</html>